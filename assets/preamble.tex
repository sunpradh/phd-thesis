%======================================================================
% PREAMBLE
%======================================================================

% DOCUMENT APPEARANCE
%----------------------------------------
\input{assets/style.tex}


% Macro for figure with caption on the side
%----------------------------------------
\usepackage{xkeyval}
\usepackage{xifthen}

\makeatletter

\def\my@figlabel{}
\def\my@figdesc{}
\define@key{myfigure}{label}{\def\my@figlabel{#1}}
\define@key{myfigure}{desc}[]{\def\my@figdesc{#1}}

\newcommand{\SideFigure}[3][desc]{
    \setkeys{myfigure}{#1}
    \begin{minipage}[t]{0.5\textwidth}
        \centering
        #2
    \end{minipage}\hfill
    \begin{minipage}[b]{0.45\textwidth}
        \ifthenelse{\equal{\my@figdesc}{}}{%
            \caption[#3]{#3}%
        }{%
            \caption[\my@figdesc]{#3}%
        }%
        \ifthenelse{\equal{\my@figlabel}{}}{}{%
            \label{\my@figlabel}
        }%
    \end{minipage}%
}

\makeatother

%----------------------------------------
% MATH
%----------------------------------------
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{physics}
\usepackage{bm}
\usepackage{bbm}
\usepackage{slashed}
\usepackage{amsthm}


% Show equation labels
\usepackage[]{showlabels}
\renewcommand{\showlabelfont}{\scriptsize\sffamily\color{gray}}

% Math macros
\input{assets/math_macros.tex}

% Theorems environment
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}


%----------------------------------------
% GRAPHICS
%----------------------------------------
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subfloat}

% Custom colors
% load IBM Carbon theme
\usepackage{xcolor}
\input{assets/carbon_theme.tex}
\colorlet{Blue}{Blue80}
\colorlet{Gray}{Grey70}

% TikZ
\input{assets/tikz_settings.tex}

% Plots
\usepackage{pgfplots}
\pgfplotsset{compat=1.16} % fixes some pgfplots cross-platform issue
\usepgfplotslibrary{groupplots}

%----------------------------------------
% MISC
%----------------------------------------
\usepackage[colorlinks, linkcolor=blue, urlcolor=Blue]{hyperref}
\usepackage{bookmark}
\usepackage{dirtytalk}
% Lists
\usepackage{enumitem}
% Tables
\usepackage{booktabs}
\usepackage{multirow}

\usepackage{xspace}
\newcommand{\dof}{d.o.f.\xspace}

% macro for TODO notes
\newcommand{\todo}[1]{\textcolor{red}{[ \textsf{#1} ]}}
% macro for missing citations
\newcommand{\citneeded}{\textcolor{red}{\textsf{\textsuperscript{[citation?]}}}}


%----------------------------------------
% Bibliography
%----------------------------------------
\usepackage[
    style=numeric-comp,
    sorting=none,
    bibstyle=nature,
    isbn=false
    ]{biblatex}
\bibliography{assets/biblio.bib}

\ExecuteBibliographyOptions{doi=false}
\ExecuteBibliographyOptions{url=false}
\newbibmacro{string+doi}[1]{%
  \iffieldundef{doi}{#1}{\href{http://dx.doi.org/\thefield{doi}}{#1}}}
\DeclareFieldFormat{title}{\usebibmacro{string+doi}{\mkbibemph{#1}}}
\DeclareFieldFormat[article]{title}{\usebibmacro{string+doi}{\mkbibquote{#1}}}

%----------------------------------------
% Macros for front page
%----------------------------------------
% TODO: forse un po' ridondanti
% Variables
\newcommand{\thephdcoordinator}{}
\newcommand{\thesupervisor}{}
\newcommand{\thecosupervisor}{}
\newcommand{\ilsettoreconcorsuale}{}
\newcommand{\ilsettoredisciplinare}{}

\newcommand{\phdcoordinator}[1]{\renewcommand{\thephdcoordinator}{#1}}
\newcommand{\supervisor}[1]{\renewcommand{\thesupervisor}{#1}}
\newcommand{\cosupervisor}[1]{\renewcommand{\thecosupervisor}{#1}}
\newcommand{\settoreconcorsuale}[1]{\renewcommand{\ilsettoreconcorsuale}{#1}}
\newcommand{\settoredisciplinare}[1]{\renewcommand{\ilsettoredisciplinare}{#1}}


%----------------------------------------
% Acronyms
%----------------------------------------
\usepackage{acro}

\DeclareAcronym{sm}{short={SM}, long={Statistical Mechanics}}
\DeclareAcronym{ym}{short={YM}, long={Yang-Mills}}
\DeclareAcronym{qft}{short={QFT}, long={Quantum Field Theory}}
\DeclareAcronym{qcd}{short={QCD}, long={Quantum Chromodynamics}}
\DeclareAcronym{qed}{short={QED}, long={Quantum Electrodynamics}}
\DeclareAcronym{lft}{short={LFT}, long={Lattice Field Theory}}
\DeclareAcronym{lgt}{short={LGT}, long={Lattice Gauge Theory}}
\DeclareAcronym{tc}{short={TC}, long={Toric Code}}
\DeclareAcronym{wl}{short={WL}, long={Wilson loop}}
\DeclareAcronym{ths}{short={tHS}, long={`t Hooft string}}
\DeclareAcronym{qs}{short={QS}, long={Quantum Simulation}}
\DeclareAcronym{dof}{short={d.o.f}, long={degrees of freedom}}
\DeclareAcronym{ising}{short={QIM}, long={Quantum Ising Model}}
\DeclareAcronym{dcpt}{short={DCPT}, long={deconfined-confined phase transition}}
\DeclareAcronym{clock}{short={QCM}, long={Quantum Clock Model}}
\DeclareAcronym{ed}{short={ED}, long={Exact Diagonalization}}
